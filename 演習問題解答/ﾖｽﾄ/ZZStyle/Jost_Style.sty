\usepackage[backend=biber,style=alphabetic,sorting=ynt]{biblatex}
\makeatletter
\newcommand{\My@BibPath}{%
  \ifcsname MainFile\endcsname%
    ZZStyle/Jost_Bib.bib%
  \else%
    ../ZZStyle/Jost_Bib.bib%
  \fi%
}
\addbibresource{\My@BibPath}
%\bibliography{\My@BibPath}
\makeatother



\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{mathrsfs}
\usepackage{amsfonts}
\usepackage{mathtools}

\usepackage{xcolor}
\usepackage[dvipdfmx]{graphicx}

%\usepackage{ulem}
\usepackage{braket}


%%%%%ハイパーリンク
\usepackage[setpagesize=false]{hyperref}
\usepackage{aliascnt}
\hypersetup{
    colorlinks=true,
    citecolor=blue,
    linkcolor=blue,
    urlcolor=blue,
}
%%%%%ハイパーリンク

\renewcommand{\eqref}[1]{\textcolor{blue}{(\ref{#1})}}

%%%%%%ハイパーリンク



%%%%%図式
%\usepackage{tikz}%%%図
\usepackage{amscd}%%%簡単な図式

\usepackage{tikz}
\usepackage{tikz-cd} %commutative diagrams in TikZ
\usetikzlibrary{calc}
\usetikzlibrary{matrix,arrows}
\usetikzlibrary{decorations.markings}

%%%%%図式



%%%%%%%%%%%%定理環境%%%%%%%%%%%%
%%%%%%%%%%%%定理環境%%%%%%%%%%%%
%%%%%%%%%%%%定理環境%%%%%%%%%%%%

\usepackage{amsthm}
\theoremstyle{definition}
\renewcommand{\sectionautorefname}{Chapter}
\newtheorem{thm}{定理}[section]
\newcommand{\thmautorefname}{定理}

\newaliascnt{prop}{thm}%%%カウンター「prop」の定義（thmと同じ）
\newtheorem{prop}[prop]{命題}
\aliascntresetthe{prop}
\newcommand{\propautorefname}{命題}%%%カウンター名propは「命題」で参照する

\newaliascnt{cor}{thm}
\newtheorem{cor}[cor]{系}
\aliascntresetthe{cor}
\newcommand{\corautorefname}{系}

\newaliascnt{lem}{thm}
\newtheorem{lem}[lem]{補題}
\aliascntresetthe{lem}
\newcommand{\lemautorefname}{補題}

\newaliascnt{rem}{thm}
\newtheorem{rem}[rem]{注意}
\aliascntresetthe{rem}
\newcommand{\remautorefname}{注意}

\newaliascnt{defi}{thm}
\newtheorem{defi}[defi]{定義}
\aliascntresetthe{defi}
\newcommand{\defiautorefname}{定義}

\newaliascnt{eg}{thm}
\newtheorem{eg}[eg]{例}
\aliascntresetthe{eg}
\newcommand{\egautorefname}{例}

\newaliascnt{obs}{thm}
\newtheorem{obs}[obs]{観察}
\aliascntresetthe{obs}
\newcommand{\obsautorefname}{観察}


\newaliascnt{prob}{thm}
\newtheorem{prob}[prob]{問題}
\aliascntresetthe{prob}
\newcommand{\probautorefname}{問題}


%%%%%%%番号づけない定理環境
\newtheorem*{exam*}{例}
\newtheorem*{recall*}{Recall}
\newtheorem*{rem*}{注意}
\newtheorem*{kansou*}{感想}
\newtheorem*{question*}{疑問}
\newtheorem*{defi*}{定義}


%%%証明環境の調整
\makeatletter
\renewenvironment{proof}[1][\proofname]{
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item[\hskip\labelsep
    #1\@addpunct{\textbf{.}}]\ignorespaces
}{%
  \popQED\endtrivlist\@endpefalse
}
\makeatother
\renewcommand{\proofname}{\textbf{証明}}


%%%%%%%%%%%%定理環境%%%%%%%%%%%%
%%%%%%%%%%%%定理環境%%%%%%%%%%%%
%%%%%%%%%%%%定理環境%%%%%%%%%%%%


\usepackage{applekeys}
\usepackage{mandorasymb}
%\renewcommand{\qedsymbol}{\mandorasymbmaru}
%\renewcommand{\qedsymbol}{\kinoposymbniko}
\renewcommand{\qedsymbol}{\nekostampsymb}
%\renewcommand{\qedsymbol}{\totorosymb}
%\renewcommand{\qedsymbol}{\mandorasymbpan}
%%%%%%%%%%%%定理環境%%%%%%%%%%%%
%%%%%%%%%%%%定理環境%%%%%%%%%%%%
%%%%%%%%%%%%定理環境%%%%%%%%%%%%





%%%%%箇条書き環境
\usepackage[]{enumitem}

\makeatletter
\AddEnumerateCounter{\fnsymbol}{\c@fnsymbol}{9}%%%%fnsymbolという文字をenumerate環境のパラメーターで使えるようにする。
\makeatother

\usepackage{moreenum}

\renewcommand{\theenumi}{(\roman{enumi})}%%%%%itemは(1),(2),(3)で番号付ける。
\renewcommand{\labelenumi}{\theenumi}

%%%%%箇条書き環境





\usepackage{latexsym}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Isom}{Isom}
\DeclareMathOperator{\id}{\mathrm{id}}
\DeclareMathOperator{\im}{\mathrm{Im}}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\Spec}{\mathrm{Spec}}
\DeclareMathOperator{\Aut}{\mathrm{Aut}}
\DeclareMathOperator{\Supp}{\mathrm{Supp}}
\DeclareMathOperator{\Ob}{\mathrm{Ob}}

\DeclareMathOperator{\colim}{\mathrm{colim}}
\DeclareMathOperator{\plim}{\mathrm{lim}}
\newcommand{\red}{\mathrm{red}}

\newcommand{\op}{\mathrm{op}}

%\let\originaloplus\oplus
%\renewcommand\oplus{\originaloplus\,\,}


\newcommand{\rsa}{\rightsquigarrow}
\renewcommand{\emptyset}{\varnothing}

\newcommand{\dfn}{:\overset{\mbox{{\scriptsize def}}}{=}}
\newcommand{\ndf}{\overset{\mbox{{\scriptsize def}}}{=}:}
\newcommand{\deff}{:\hspace{-3pt}\overset{\text{def}}{\iff}}




\newcommand{\mcA}{\mathcal{A}}
\newcommand{\mcB}{\mathcal{B}}
\newcommand{\mcC}{\mathcal{C}}
\newcommand{\mcD}{\mathcal{D}}
\newcommand{\mcE}{\mathcal{E}}
\newcommand{\mcF}{\mathcal{F}}
\newcommand{\mcG}{\mathcal{G}}
\newcommand{\mcH}{\mathcal{H}}
\newcommand{\mcI}{\mathcal{I}}
\newcommand{\mcJ}{\mathcal{J}}
\newcommand{\mcK}{\mathcal{K}}
\newcommand{\mcL}{\mathcal{L}}
\newcommand{\mcM}{\mathcal{M}}
\newcommand{\mcN}{\mathcal{N}}
\newcommand{\mcO}{\mathcal{O}}
\newcommand{\mcP}{\mathcal{P}}
\newcommand{\mcQ}{\mathcal{Q}}
\newcommand{\mcR}{\mathcal{R}}
\newcommand{\mcS}{\mathcal{S}}
\newcommand{\mcT}{\mathcal{T}}
\newcommand{\mcU}{\mathcal{U}}
\newcommand{\mcV}{\mathcal{V}}
\newcommand{\mcW}{\mathcal{W}}
\newcommand{\mcX}{\mathcal{X}}
\newcommand{\mcY}{\mathcal{Y}}
\newcommand{\mcZ}{\mathcal{Z}}




\newcommand{\sfA}{\mathsf{A}}
\newcommand{\sfB}{\mathsf{B}}
\newcommand{\sfC}{\mathsf{C}}
\newcommand{\sfD}{\mathsf{D}}
\newcommand{\sfE}{\mathsf{E}}
\newcommand{\sfF}{\mathsf{F}}
\newcommand{\sfG}{\mathsf{G}}
\newcommand{\sfH}{\mathsf{H}}
\newcommand{\sfI}{\mathsf{I}}
\newcommand{\sfJ}{\mathsf{J}}
\newcommand{\sfK}{\mathsf{K}}
\newcommand{\sfL}{\mathsf{L}}
\newcommand{\sfM}{\mathsf{M}}
\newcommand{\sfN}{\mathsf{N}}
\newcommand{\sfO}{\mathsf{O}}
\newcommand{\sfP}{\mathsf{P}}
\newcommand{\sfQ}{\mathsf{Q}}
\newcommand{\sfR}{\mathsf{R}}
\newcommand{\sfS}{\mathsf{S}}
\newcommand{\sfT}{\mathsf{T}}
\newcommand{\sfU}{\mathsf{U}}
\newcommand{\sfV}{\mathsf{V}}
\newcommand{\sfW}{\mathsf{W}}
\newcommand{\sfX}{\mathsf{X}}
\newcommand{\sfY}{\mathsf{Y}}
\newcommand{\sfZ}{\mathsf{Z}}

\DeclareMathOperator{\OOO}{\mcO}

\newcommand{\OC}{{\OOO_C}}
\newcommand{\OD}{{\OOO_D}}
\renewcommand{\OE}{{\OOO_E}}
\newcommand{\OF}{{\OOO_F}}
\newcommand{\OH}{{\OOO_H}}
\newcommand{\OS}{{\OOO_S}}
\newcommand{\OT}{{\OOO_T}}
\newcommand{\OU}{{\OOO_U}}
\newcommand{\OV}{{\OOO_V}}
\newcommand{\OW}{{\OOO_W}}
\newcommand{\OX}{{\OOO_X}}
\newcommand{\OY}{{\OOO_Y}}
\newcommand{\OZ}{{\OOO_Z}}

\newcommand{\OO}[1]{\OOO_{#1}}


\newcommand\C{\mathbb{C}}
\newcommand\R{\mathbb{R}}
\newcommand\Q{\mathbb{Q}}
\newcommand\Z{\mathbb{Z}}
\newcommand\N{\mathbb{N}}
\renewcommand\P{\mathbb{P}}
\newcommand\A{\mathbb{A}}
\renewcommand\L{\mathbb{L}}

\newcommand\del{\partial}









\usepackage{letltxmacro}
\makeatletter
\newcommand{\Test@FirstGroup}[5]{#1}
\newcommand{\Test@FourthGroup}[5]{#4}

\newcommand{\Test@NumberingPrint}[1]{%
\expandafter\Test@FirstGroup%
\romannumeral-`0\csname r@MainFile: #1\endcsname%
}
\def\Test@@NamingPrint#1.{%
  \csname #1autorefname\endcsname\space%
}
\newcommand{\Test@NamingPrint}[1]{%
  \expandafter\Test@@NamingPrint%
  \romannumeral-`0\expandafter\Test@FourthGroup%
  \romannumeral-`0\csname r@MainFile: #1\endcsname%
}

\AtBeginDocument{%
  \LetLtxMacro{\Test@LetAutoref}{\autoref}
  \LetLtxMacro{\Test@LetRef}{\ref}

  \newcommand{\Test@SubFile@TrueRef}[1]{%
    \ifcsname r@SubFile: #1\endcsname%
      \Test@LetRef{SubFile: #1}%
    \else%
      \textcolor{magenta}{\Test@NumberingPrint{#1}}%
    \fi%
  }
  \newcommand{\Test@TrueRef}[1]{%
    \ifcsname MainFile\endcsname%
      \Test@LetRef{MainFile: #1}%
    \else%
      \Test@SubFile@TrueRef{#1}%
    \fi%
  }


  \newcommand{\Test@SubFile@TrueAutoref}[1]{%
    \ifcsname r@SubFile: #1\endcsname%
      \Test@LetAutoref{SubFile: #1}%
    \else%
      \textcolor{magenta}{\Test@NamingPrint{#1}}%
    \fi%
  }
  \newcommand{\Test@TrueAutoref}[1]{%
    \ifcsname MainFile\endcsname%
      \Test@LetAutoref{MainFile: #1}%
    \else%
      \Test@SubFile@TrueAutoref{#1}%
    \fi%
  }

  \renewcommand{\autoref}[1]{\Test@TrueAutoref{#1}}
  \renewcommand{\ref}[1]{\Test@TrueRef{#1}}
}


\newcommand{\SetTrueSecNumber}[1]{%
  \expandafter\newcount\csname Count@#1\endcsname
  \csname Count@#1\endcsname=\Test@NumberingPrint{#1}
  \expandafter\advance\csname Count@#1\endcsname by -1
  \setcounter{section}{\csname Count@#1\endcsname}
}


\newwrite\Test@Label@Aux\relax%%%%%新しい「書き込み用コマンド」
\newcommand{\Test@Label@Aux@Write}[1]{%
  \protected@write\Test@Label@Aux{}{%%%%ここは\immediate\writeではなく\protected@writeにしておかないとeqrefの振る舞いがおかしくなります。
    \string\newlabel{#1}{{\@currentlabel}{\thepage}{\@currentlabelname}{\@currentHref}{}}%
  }%%%%文字として書き出す
}

\AtBeginDocument{
  \LetLtxMacro{\Test@LetLabel}{\label}%%%%\labelをコピー
  \newcommand{\Test@TrueLabel}[1]{%
    \ifcsname MainFile\endcsname%
    \Test@LetLabel{MainFile: #1}
    \Test@Label@Aux@Write{MainFile: #1}%%%%%MainFileコンパイル時は.myauxに定理番号などの情報を書き出すようにします。
    \else%
    \Test@LetLabel{SubFile: #1}%
    \fi%
  }
  \renewcommand{\label}[1]{\Test@TrueLabel{#1}}%%%%再定義
  \renewcommand{\ltx@label}[1]{\Test@TrueLabel{#1}}%%%%再定義、これはeqrefの方を良い感じにするための再定義です。
}

\ifcsname MainFile\endcsname%
  \immediate\openout\Test@Label@Aux\jobname.myaux\relax%%%%拡張子.myauxで新しいファイルを作る。
  \immediate\write\Test@Label@Aux{\relax}%%%%.myauxに\relaxと書く。
\else%
  \@input{../Jost_Solution.myaux}%%%%SubFileコンパイル時に、定理番号などの情報が書かれた.myauxをinput
\fi

\makeatother
